"use strict";(self["webpackChunkahorro_app"]=self["webpackChunkahorro_app"]||[]).push([[830],{8554:function(e,t,a){a.r(t),a.d(t,{default:function(){return xe}});var n=a(6768);function o(e,t,a,o,l,s){const u=(0,n.g2)("HeaderComponent"),r=(0,n.g2)("Graphic"),i=(0,n.g2)("Action"),m=(0,n.g2)("Resume"),v=(0,n.g2)("MovementsComponent"),c=(0,n.g2)("LayoutComponent");return(0,n.uX)(),(0,n.Wv)(c,null,{header:(0,n.k6)((()=>[(0,n.bF)(u)])),resume:(0,n.k6)((()=>[(0,n.bF)(m,{"total-label":"Ahorro total",label:l.label,"total-amount":s.totalAmount,amount:l.amount},{graphic:(0,n.k6)((()=>[(0,n.bF)(r,{amounts:s.amounts},null,8,["amounts"])])),action:(0,n.k6)((()=>[(0,n.bF)(i,{onCreate:s.create},null,8,["onCreate"])])),_:1},8,["label","total-amount","amount"])])),movementsComponent:(0,n.k6)((()=>[(0,n.bF)(v,{movements:l.movements,onRemove:s.remove},null,8,["movements","onRemove"])])),_:1})}a(4114);var l=a(5130),s=a(144);const u=e=>((0,n.Qi)("data-v-5b7465fc"),e=e(),(0,n.jt)(),e),r={class:"header"},i={class:"resume"},m={class:"movements"},v=u((()=>(0,n.Lk)("div",{class:"grip"},null,-1))),c=[v],d={class:"body"};var p={__name:"LayoutComponent",setup(e){const t=(0,s.KR)(!1);return(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",r,[(0,n.RG)(e.$slots,"header")]),(0,n.Lk)("div",i,[(0,n.RG)(e.$slots,"resume")]),(0,n.Lk)("div",m,[(0,n.Lk)("div",{class:"head",onClick:a[0]||(a[0]=e=>t.value=!t.value)},c),(0,n.bo)((0,n.Lk)("div",d,[(0,n.RG)(e.$slots,"movementsComponent")],512),[[l.aG,t.value]])])],64))}},k=a(1241);const L=(0,k.A)(p,[["__scopeId","data-v-5b7465fc"]]);var h=L,b=a(7075);const g=e=>((0,n.Qi)("data-v-24dc18d4"),e=e(),(0,n.jt)(),e),y=g((()=>(0,n.Lk)("h1",null,[(0,n.Lk)("span",null,"Cash"),(0,n.eW)("Ahorro")],-1))),_=g((()=>(0,n.Lk)("span",null,null,-1))),C=g((()=>(0,n.Lk)("div",null,null,-1)));function f(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",null,[(0,n.Lk)("img",{onClick:t[0]||(t[0]=(...e)=>s.reload&&s.reload(...e)),src:b,alt:"LOgo"}),y,_]),C],64)}var A={methods:{reload(){location.reload()}}};const R=(0,k.A)(A,[["render",f],["__scopeId","data-v-24dc18d4"]]);var I=R,X=a(4232);const M={class:"text"},w={class:"graphic"},x={class:"action"};function E(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("main",null,[(0,n.Lk)("p",M,(0,X.v_)(s.labelVisual),1),(0,n.Lk)("h1",null,(0,X.v_)(s.amountCurrency),1),(0,n.Lk)("div",w,[(0,n.RG)(e.$slots,"graphic",{},void 0,!0)]),(0,n.Lk)("div",x,[(0,n.RG)(e.$slots,"action",{},void 0,!0)])])}const G=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"});var F={props:{totalLabel:{type:String},label:{type:String},totalAmount:{type:Number},amount:{type:Number,default:null}},computed:{amountVisual(){return null!==this.amount?this.amount:this.totalAmount},labelVisual(){return null!==this.label?this.label:this.totalLabel},amountCurrency(){return G.format(this.amountVisual)}}};const K=(0,k.A)(F,[["render",E],["__scopeId","data-v-3c406c66"]]);var N=K,W=a.p+"img/close-icon.db321b12.svg";const $=e=>((0,n.Qi)("data-v-7e6271ef"),e=e(),(0,n.jt)(),e),Q={class:"modal"},S=$((()=>(0,n.Lk)("p",null,"Nuevo movimiento",-1))),V={class:"body"};var D={__name:"ModalForm",emits:["close"],setup(e,{emit:t}){const a=t,o=()=>a("close");return(e,t)=>((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",{class:"head"},[S,(0,n.Lk)("img",{onClick:o,src:W,alt:"cerrar"})]),(0,n.Lk)("div",V,[(0,n.RG)(e.$slots,"default")])]))}};const j=(0,k.A)(D,[["__scopeId","data-v-7e6271ef"]]);var J=j;const U=e=>((0,n.Qi)("data-v-43d45401"),e=e(),(0,n.jt)(),e),B={class:"field"},T=U((()=>(0,n.Lk)("label",null,"Título",-1))),H={class:"field"},O=U((()=>(0,n.Lk)("label",null,"Monto",-1))),q={class:"field"},z=U((()=>(0,n.Lk)("label",null,"Descripción",-1))),P={class:"field"},Y={class:"radio-label"},Z=U((()=>(0,n.Lk)("span",null,"Ingreso",-1))),ee={class:"radio-label"},te=U((()=>(0,n.Lk)("span",null,"Gasto",-1))),ae=U((()=>(0,n.Lk)("div",{class:"action"},[(0,n.Lk)("button",null,"Agregar movimiento")],-1)));var ne={__name:"ActionComponent",emits:["create"],setup(e,{emit:t}){const a=(0,s.KR)(!1),o=(0,s.KR)(""),u=(0,s.KR)(0),r=(0,s.KR)(""),i=(0,s.KR)("Ingreso"),m=t,v=()=>{a.value=!a.value,m("create",{title:o.value,description:r.value,amount:"Ingreso"===i.value?u.value:-u.value,time:new Date,id:new Date}),o.value="",r.value="",u.value=0,i.value="Ingreso"};return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>a.value=!0)},"Agregar movimiento"),((0,n.uX)(),(0,n.Wv)(n.Im,{to:"#app"},[(0,n.bo)((0,n.bF)(J,{onClose:t[6]||(t[6]=e=>a.value=!1)},{default:(0,n.k6)((()=>[(0,n.Lk)("form",{onSubmit:(0,l.D$)(v,["prevent"])},[(0,n.Lk)("div",B,[T,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e)},null,512),[[l.Jo,o.value]])]),(0,n.Lk)("div",H,[O,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>u.value=e)},null,512),[[l.Jo,u.value]])]),(0,n.Lk)("div",q,[z,(0,n.bo)((0,n.Lk)("textarea",{rows:"4","onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e)},null,512),[[l.Jo,r.value]])]),(0,n.Lk)("div",P,[(0,n.Lk)("label",Y,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>i.value=e),value:"Ingreso"},null,512),[[l.XL,i.value]]),Z]),(0,n.Lk)("label",ee,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=e=>i.value=e),value:"Gasto"},null,512),[[l.XL,i.value]]),te])]),ae],32)])),_:1},512),[[l.aG,a.value]])]))],64))}};const oe=(0,k.A)(ne,[["__scopeId","data-v-43d45401"]]);var le=oe,se=a.p+"img/trash-icon.5886076a.svg";const ue={class:"movement"},re={class:"content"},ie={class:"action"};var me={__name:"ContentM",props:{id:{type:Number},title:{type:String},description:{type:String},amount:{type:Number}},emits:["remove"],setup(e,{emit:t}){const a=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}),o=e,{id:l,title:u,description:r,amount:i}=(0,s.QW)(o),m=(0,n.EW)((()=>a.format(i.value))),v=(0,n.EW)((()=>i.value<0)),c=t,d=()=>{c("remove",l.value)};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",ue,[(0,n.Lk)("div",re,[(0,n.Lk)("h4",null,(0,X.v_)((0,s.R1)(u)),1),(0,n.Lk)("p",null,(0,X.v_)((0,s.R1)(r)),1)]),(0,n.Lk)("div",ie,[(0,n.Lk)("img",{src:se,alt:"borrar",onClick:d}),(0,n.Lk)("p",{class:(0,X.C4)({red:v.value,green:!v.value})},(0,X.v_)(m.value),3)])]))}};const ve=(0,k.A)(me,[["__scopeId","data-v-93d30ae0"]]);var ce=ve;const de=e=>((0,n.Qi)("data-v-223f5afa"),e=e(),(0,n.jt)(),e),pe={class:"movements"},ke=de((()=>(0,n.Lk)("h2",{class:"title"},"Historial",-1))),Le={class:"content"};var he={__name:"IndexMovements",props:{movements:{type:Array,default:()=>[]}},emits:["remove"],setup(e,{emit:t}){const a=e,{movements:o}=(0,s.QW)(a),l=t,u=e=>{l("remove",e)};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",pe,[ke,(0,n.Lk)("div",Le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,s.R1)(o),(({id:e,title:t,description:a,amount:o})=>((0,n.uX)(),(0,n.Wv)(ce,{key:e,id:e,title:t,description:a,amount:o,onRemove:u},null,8,["id","title","description","amount"])))),128))])]))}};const be=(0,k.A)(he,[["__scopeId","data-v-223f5afa"]]);var ge=be;const ye=e=>((0,n.Qi)("data-v-62280655"),e=e(),(0,n.jt)(),e),_e=["y1","y2"],Ce=["points"],fe=["x1","x2"],Ae=ye((()=>(0,n.Lk)("p",null,"Últimos 30 días",-1)));var Re={__name:"GraphicAhorro",props:{amounts:{type:Array,default:()=>[]}},setup(e){const t=e,{amounts:a}=(0,s.QW)(t),o=e=>{const t=Math.min(...a.value),n=Math.max(...a.value),o=e+Math.abs(t),l=Math.abs(n)+Math.abs(t);return 200-100*o/l*2},u=(0,n.EW)((()=>o(0))),r=(0,n.EW)((()=>{const e=a.value.length;return a.value.reduce(((t,a,n)=>{const l=300/e*(n+1),s=o(a);return`${t} ${l},${s}`}),"0, 100")})),i=(0,s.KR)(!1),m=(0,s.KR)(0),v=({target:e,touches:t})=>{i.value=!0;const a=e.getBoundingClientRect().width,n=e.getBoundingClientRect().x,o=t[0].clientX;m.value=300*(o-n)/a},c=()=>{i.value=!1};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[((0,n.uX)(),(0,n.CE)("svg",{onTouchstart:v,onTouchmove:v,onTouchend:c,viewBox:"0 0 300 200"},[(0,n.Lk)("line",{stroke:"#c4c4c4","stroke-width":"2",x1:"0",y1:u.value,x2:"300",y2:u.value},null,8,_e),(0,n.Lk)("polyline",{fill:"none",stroke:"#0689B0","stroke-width":"2",points:r.value},null,8,Ce),(0,n.bo)((0,n.Lk)("line",{stroke:"#04b500","stroke-width":"2",x1:m.value,y1:"0",x2:m.value,y2:"200"},null,8,fe),[[l.aG,i.value]])],32)),Ae]))}};const Ie=(0,k.A)(Re,[["__scopeId","data-v-62280655"]]);var Xe=Ie,Me={components:{LayoutComponent:h,HeaderComponent:I,Resume:N,Action:le,MovementsComponent:ge,Graphic:Xe},data(){return{label:null,amount:null,movements:[]}},computed:{amounts(){const e=this.movements.filter((e=>{const t=new Date,a=t.setDate(t.getDate()-30);return e.time>a})).map((e=>e.amount));return e.map(((t,a)=>{const n=e.slice(0,a);return n.reduce(((e,t)=>e+t),0)}))},totalAmount(){return this.movements.reduce(((e,t)=>e+t.amount),0)}},mounted(){const e=JSON.parse(localStorage.getItem("movements"));console.log(e),Array.isArray(e)&&(this.movements=e.map((e=>({...e,time:new Date(e.time)}))))},methods:{create(e){this.movements.push(e),this.save()},remove(e){const t=this.movements.findIndex((t=>t.id===e));this.movements.splice(t,1),this.save()},save(){localStorage.setItem("movements",JSON.stringify(this.movements))}}};const we=(0,k.A)(Me,[["render",o]]);var xe=we}}]);
//# sourceMappingURL=830.6a364c37.js.map